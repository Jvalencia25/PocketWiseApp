let e=[],t=[],n=0;const o=[];let a=1,c=0,l=[];function r(){let e=parseFloat(document.getElementById("input-ganancia").value.replace(/[^0-9.]/g,""));if(!isNaN(e)&&e>0){n+=e,document.getElementById("saldo-usuario").textContent=m(n);let{fecha:t,hora:a}=u();o.push(new s(e,"ganancia",a,t)),p(n,o),document.getElementById("input-ganancia").value="",g("home")}else window.alert("Debes ingresar un número que sea más grande que 0!")}function d(){let e=parseFloat(document.getElementById("input-gasto").value.replace(/[^0-9.]/g,""));if(!isNaN(e)&&e>0){if((parseFloat(document.getElementById("saldo-usuario").textContent.replace(/[^0-9.]/g,""))||n)>=e){n-=e,document.getElementById("saldo-usuario").textContent=m(n);let{fecha:t,hora:a}=u();o.push(new s(e,"gasto",a,t)),p(n,o),document.getElementById("input-gasto").value="",g("home")}else window.alert("No puedes hacer ese gasto! No tienes saldo suficiente.")}else window.alert("Debes ingresar un número que sea más grande que 0!")}window.onload=function(){e.splash=document.getElementById("splash"),e.home=document.getElementById("home"),e.resumen=document.getElementById("resumen"),e.ganancia=document.getElementById("ganancia"),e.gasto=document.getElementById("gasto"),e.sobre=document.getElementById("sobre"),e.encuesta=document.getElementById("encuesta"),e.navbar=document.getElementById("navbar"),t.btn_resumen=document.getElementById("btn_resumen"),t.btn_ganancia=document.getElementById("btn_ganancia"),t.btn_gasto=document.getElementById("btn_gasto"),t.btn_sobre=document.getElementById("btn_sobre"),t.btn_encuesta=document.getElementById("btn_encuesta"),t.btn_navbar=document.getElementById("btn_navbar"),t.btn_home=document.getElementById("btn_home"),t.btn2_resumen=document.getElementById("btn2_resumen"),t.btn2_ganancia=document.getElementById("btn2_ganancia"),t.btn2_gasto=document.getElementById("btn2_gasto"),t.btn2_sobre=document.getElementById("btn2_sobre"),t.btn2_encuesta=document.getElementById("btn2_encuesta"),t.btn_home.addEventListener("click",y),t.btn_resumen.addEventListener("click",y),t.btn_ganancia.addEventListener("click",y),t.btn_gasto.addEventListener("click",y),t.btn_sobre.addEventListener("click",y),t.btn_encuesta.addEventListener("click",y),t.btn_navbar.addEventListener("click",y),t.btn2_resumen.addEventListener("click",y),t.btn2_ganancia.addEventListener("click",y),t.btn2_gasto.addEventListener("click",y),t.btn2_sobre.addEventListener("click",y),t.btn2_encuesta.addEventListener("click",y),document.querySelectorAll(".volver").forEach(e=>{e.addEventListener("click",()=>{g("home"),h()})}),function(){let e=localStorage.getItem("saldo-usuario"),t=localStorage.getItem("movimientos");e&&(n=parseFloat(e),document.getElementById("saldo-usuario").textContent=m(n)),t&&o.push(...JSON.parse(t))}(),i(o),setTimeout(()=>{g("home")},3e3),document.getElementById("btn_aceptar_ganancia").addEventListener("click",r),document.getElementById("btn_aceptar_gasto").addEventListener("click",d),document.getElementById("btn_resumen").addEventListener("click",()=>i(o)),document.querySelectorAll(".mm-prev-btn").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".mm-survey-container .mm-survey-page").forEach(function(e){let t=e.getAttribute("data-page");e.classList.add("mm-page-"+t)}),c=document.querySelectorAll(".mm-survey-page").length,document.querySelectorAll(".mm-next-btn").forEach(function(e){e.addEventListener("click",function(){a<c?(a+=1,b()):(f(),document.querySelector(".mm-survey-bottom").style.display="none",document.querySelector(".mm-survey-progress").style.display="none",document.querySelector(".mm-survey-results").style.display="block")})}),document.querySelectorAll(".mm-prev-btn").forEach(function(e){e.addEventListener("click",function(){a-=1,b()})}),document.querySelectorAll(".mm-survey-item input").forEach(function(e){e.addEventListener("click",function(){l.includes(e.getAttribute("data-item"))||l.push(e.getAttribute("data-item")),document.querySelector(".mm-next-btn button").disabled=!1})}),document.querySelector(".mm-finish-btn button").addEventListener("click",function(){f(),document.querySelector(".mm-survey-bottom").style.display="none",document.querySelector(".mm-survey-progress").style.display="none",document.querySelector(".mm-survey-results").style.display="block"}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".mm-back-btn button").addEventListener("click",function(){document.querySelector(".mm-survey-bottom").style.display="block",document.querySelector(".mm-survey-results").style.display="none",g("home"),h()})})};class s{constructor(e,t,n,o){this.valor=e,this.tipo=t,this.hora=n,this.fecha=o}}function u(){let e=new Date;return{fecha:e.toISOString().split("T")[0],hora:e.toTimeString().split(" ")[0]}}function m(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}function i(e){e.sort((e,t)=>e.fecha===t.fecha?new Date(`1970-01-01T${t.hora}`)-new Date(`1970-01-01T${e.hora}`):new Date(t.fecha)-new Date(e.fecha));let t=document.getElementById("movimientos-container");if(t.innerHTML="",e.length){let n=e.reduce((e,t)=>{let n=t.fecha;return e[n]||(e[n]=[]),e[n].push(t),e},{});for(let e in n){let o=n[e],a=document.createElement("div");a.classList.add("movimiento-grupo");let c=document.createElement("div");c.classList.add("fecha-titulo"),c.textContent=`Fecha: ${e}`,a.appendChild(c),o.forEach(e=>{let t=document.createElement("div");t.classList.add("movimiento",`tipo-${e.tipo}`);let n=document.createElement("div");n.classList.add("tipo"),n.textContent=e.tipo.charAt(0).toUpperCase()+e.tipo.slice(1);let o=document.createElement("div");o.classList.add("detalles");let c=document.createElement("div");c.classList.add("valor"),"ganancia"==e.tipo?c.textContent="+"+m(e.valor):c.textContent="-"+m(e.valor);let l=document.createElement("div");l.classList.add("hora"),l.textContent=e.hora,o.appendChild(c),o.appendChild(l),t.appendChild(n),t.appendChild(o),a.appendChild(t)}),t.appendChild(a)}}else{let e=document.createElement("img");e.src="../img/placeholder_empty.jpg",e.classList.add("imagen");let n=document.createElement("div");n.classList.add("empty"),n.textContent="No hay nada aquí hasta que agregues un gasto o una ganancia",n.classList.add("valor"),t.appendChild(n),t.appendChild(e)}}function y(e){g(e.currentTarget.id.split("_")[1])}function g(t){!function(){for(let t in e)e[t].classList.add("ocultar")}(),e[t].classList.remove("ocultar"),e[t].classList.add("animate__animated","animate__fadeIn")}function p(e,t){localStorage.setItem("saldo-usuario",e),localStorage.setItem("movimientos",JSON.stringify(t))}function b(){document.querySelectorAll(".mm-survey-page").forEach(function(e){e.classList.remove("active")}),document.querySelector(".mm-page-"+a).classList.add("active"),document.querySelector(".mm-next-btn button").disabled=!document.querySelector('.mm-survey-page.active input[type="radio"]:checked'),v(),E(a/c*100)}function v(){let e=document.querySelector(".mm-prev-btn"),t=document.querySelector(".mm-next-btn button");1===a?e.style.display="none":e.style.display="block",a===c?t.innerText="Ver Resultados":t.innerText="Siguiente"}function E(e){document.querySelector(".mm-progress").style.width=e+"%"}function h(){E(0),document.querySelectorAll(".mm-survey-page").forEach(function(e){e.classList.remove("active")}),document.querySelector(".mm-page-1").classList.add("active"),v(),document.querySelector(".mm-finish-btn").style.display="none",document.querySelector(".mm-survey-results-score").innerText="",document.querySelector(".mm-survey-results-container").innerHTML="",l=[],a=1,document.querySelectorAll(".mm-survey-item input:checked").forEach(function(e){e.checked=!1})}function f(){let e={},t=["Si","Si","No","Tengo un lugar en mente","No","No","Calmado y neutral"],n=0;document.querySelectorAll(".mm-survey-item input:checked").forEach(function(t){e[t.getAttribute("data-item")]=t.value});for(let o=0;o<t.length;o++)e[o+1]===t[o]&&n++;let o=(n/t.length*100).toFixed(0);document.querySelector(".mm-survey-results-score").innerText=o>50?"¡Puedes comprarlo!":"Deberías pensarlo un poco mejor"}
//# sourceMappingURL=index.51112dd6.js.map
